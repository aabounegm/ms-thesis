\chapter{Literature Review}
\label{chap:lr}
\chaptermark{Second Chapter Heading}

\section{Proof Assistants}

\Rzk{} builds on recent efforts by other proof assistants to provide a more user-friendly interface for theorem proving,
especially related to synthetic $\infty$-categories.
In this section, we review some of the most popular proof assistants and libraries for proof assistant development.

\subsection{Proof assistants with support for synthetic $\infty$-categories}

\subsubsection{Coq}

Coq \cite{huet1997coq} is one of the earliest proof assistants that are still widely used in the research community.
It is based on the calculus of inductive constructions and is known for its support for dependent types and inductive types.
Coq is used in a variety of research areas, including formal verification, programming language theory, and mathematics.

Univalent foundations (and hence also Homotopy Type Theory) support in Coq is provided by the UniMath library~\cite{DanielGrayson2024}\cite{MacPherson2019}.

\subsubsection{Cubical Agda}

Agda \cite{BoveDybjerNorell2009} is a proof assistant based on the propositions-as-types paradigm~\cite{Wadler2015} originally developed by the Chalmers University of Technology in Sweden.
Agda is known for its support for inductive types, coinductive types, and a rich type system that allows for the
development of proofs and programs in a single language.
Agda is used in a variety of research areas, including formal verification, programming language theory, and mathematics.

Cubical Agda \cite{VEZZOSI2021} is a mode of operation for Agda that extends the language with a cubical type theory \cite{Cohen2016} based on the univalence axiom.
It allows to formalize Homotopy Type Theory and Univalent Foundations in Agda.

\subsubsection{Lean 4}

Lean is a functional programming language and a proof assistant based on the calculus of constructions with inductive types.
It is developed by Microsoft Research, with the first version released in 2013.
The first two versions were experimental and supported Homotopy Type Theory, but that support was later dropped.
Lean 3 was the first stable version, but it reached its end-of-life after Lean 4 was released in 2021, adding many features to the language in a backwards-incompatible manner.

\subsection{Libraries for proof assistant development}

% \nikolai{We should mention the A.L.G.A.E. project: \url{https://redprl.org/#algae}}
% \abdelrahman{Seems like largely a work in progress. I don't see how we can use any of the libraries mentioned there.}
\subsubsection{Proof General}

Proof General \cite{Aspinall2000} is a tool for developing interactive theorem
provers that has been used for many widely-known proof assistants such as Coq
and Isabelle.
It is based on the Emacs editor and provides an interactive GUI with relative
ease for theorem provers developed using it.
The interface produced by Proof General is familiar to many users of interative theorem
provers, making it useful as a reference when developing the interface of a new proof assistant.

\section{Language Server Protocol}

The Language Server Protocol is a common protocol for programming language analyzers to communicate with development tools. It was developed by Microsoft in an effort to decouple a language's implementation from its editor interface \cite{Buender2019} and has contributed significantly to decreasing the effort required to add support for a given programming language in a given text editor (that supports LSP). The Language Server Protocol is used between a tool (the client) and a language smartness provider (the server) to integrate features like auto complete, go to definition, find all references and alike into the tool. The Language Server Protocol is used by many development tools like Visual Studio Code, Eclipse, Emacs, Sublime Text, Atom, and Vim.

Its development started on June 27, 2016 by Microsoft, which then collaborated with Red Hat and Codenvy to standardize the protocol's specifictation and release it under the Creative Commons Attribution license.
The protocol is based on JSON-RPC and is designed to be language agnostic, meaning that it can be used with any programming language.

% https://www.infoworld.com/article/3088698/microsoft-backed-langauge-server-protocol-strives-for-language-tools-interoperability.html
% https://sdtimes.com/che/codenvy-microsoft-red-hat-collaborate-language-server-protocol/

\subsection{Specification Language Server Protocol}

While LSP has greatly improved the experience of developing language servers,
it still leaves something to be desired.
LSP was mainly designed with general purpose programming languages in mind,
but theorem provers (or, more generally, specification language) have slightly
different requirements that are unmet by LSP.
This is why \cite{JonasKjaerRask2021} attempts to extend the original LSP
specification with features that are especially useful for specification languages.
The authors call the protocol extension \textit{Specification Language Server Protocol} (SLSP).
Simply speaking, it defines a set of new LSP requests/notification along with
their payloads, and extends VS Code's interface with a view that displays proof
information in a way similar to Proof General \cite{Aspinall2000}.


% LSP is not good enough for "specification languages" (SL) because it is not designed for them. SLSP is a protocol for specification languages based on LSP.

% It adds missing features (requests and notification types) for specification languages. It also adds a new feature for specification languages: "proof view" (a view of the proof state - like Lean's Info View).

% TODO: figure out what it uses DAP for exactly.

\subsection{VS Code extension for Lean 4.}

Lean 4 \cite{deMouraUllrich2021} is a programming language and proof assistant
by Microsoft Research\footnote{\url{https://www.microsoft.com/en-us/research/project/lean/}}
from which we draw much inspiration.
In particular, the primary way to develop Lean programs is using its VS Code
extension that provides a user interface for working with Lean interactively.
This extension uses LSP to communicate with the Lean server and provides a lot
of useful features, the most notable of which is the Info View panel that
displays information about current proof state and allows interacting with it \cite{Nawrocki2023}.
